!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.flexiValidate=n():e.flexiValidate=n()}(this,function(){return function(e){function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n){"use strict";function t(e,n){return e?n:e}function r(e,n){return"undefined"!=typeof e&&"undefined"!=typeof e[n]?e[n]:void 0}function i(e,n){var t=n.split("."),i=t.length>1,o=void 0;return o=i?t.reduce(r,e):e[n]}function o(e){return"undefined"!=typeof e&&null!==e}function s(e,n){if("object"!==("undefined"==typeof e?"undefined":p(e)))throw new Error("Target object must be an object");if("object"!==("undefined"==typeof n?"undefined":p(n)))throw new Error("Validation object must be an object")}function u(e,n){if("string"!=typeof n)throw new Error("Validation input must be a property string");if("undefined"==typeof e[n])throw new Error("Validation input property must exist on validation object")}function a(e,n){s(e,n);var t=Object.keys(n);return t.reduce(function(t,r){if(!t)return t;var o=function(){var t=n[r],o=Object.keys(t);return{v:o.reduce(function(n,o){if(n){var s=t[o],u=i(e,r);return s.isValid instanceof Function?s.isValid(u):!0}return n},!0)}}();return"object"===("undefined"==typeof o?"undefined":p(o))?o.v:void 0},!0)}function c(e,n){try{s(e,n)}catch(r){return Promise.reject(r)}var o=Object.keys(n),u=void 0;if(o.length>0){var a=o.map(function(r){var o=n[r],s=Object.keys(o),u=s.map(function(n){var t=o[n],s=i(e,r);return t.isValid instanceof Function?Promise.resolve(t.isValid(s)):Promise.resolve(!0)});return Promise.all(u).then(function(e){return e.reduce(t)})},!0);u=Promise.all(a).then(function(e){return e.reduce(t)})}else u=Promise.resolve(!0);return u}function f(e,n,t){s(e,n),u(n,t);var r=Object.keys(n[t]);return r.map(function(r){var o=n[t][r],s=i(e,t),u=o.message instanceof Function?o.message(s):o.message;return o.isValid(s)?void 0:u}).filter(o)}function l(e,n,t){try{s(e,n),u(n,t)}catch(r){return Promise.reject(r)}var a=Object.keys(n[t]),c=a.map(function(r){var o=n[t][r],s=i(e,t),u=o.message instanceof Function?o.message(s):o.message;return Promise.resolve(o.isValid(s)).then(function(e){return e?void 0:u})});return Promise.all(c).then(function(e){return e.filter(o)})}function d(e,n){s(e,n);var t=Object.keys(n);return t.reduce(function(t,r){var o=n[r],s=Object.keys(o),u={};return s.forEach(function(n){var t=o[n],s=i(e,r),a=t.message instanceof Function?t.message(s):t.message;t.isValid(s)||(u[n]=a)}),t[r]=u,t},{})}function m(e,n){try{s(e,n)}catch(t){return Promise.reject(t)}var r=Object.keys(n),o=r.map(function(t){var r=n[t],o=Object.keys(r),s=o.map(function(n){var o=r[n],s=i(e,t),u=o.message instanceof Function?o.message(s):o.message;return Promise.resolve(o.isValid(s)).then(function(e){return e?void 0:{message:u,key:n}})});return Promise.all(s).then(function(e){var n=e.reduce(function(e,n){return e[n.key]=n.message,e},{});return n.inputKey=t,n})});return Promise.all(o).then(function(e){return e.reduce(function(e,n){return e[n.inputKey]=n,delete n.inputKey,e},{})})}function y(e,n){s(e,n);var t=Object.keys(n),r={};return t.forEach(function(n){var t=n.indexOf(".")>-1;if(t){var i=n.split(".")[0];r[i]=e[i]}else r[n]=e[n]}),r}var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.isValid=a,n.isValidAsync=c,n.messages=f,n.messagesAsync=l,n.allMessages=d,n.allMessagesAsync=m,n.cleanAttributes=y,n["default"]={isValid:a,isValidAsync:c,messages:f,messagesAsync:l,allMessages:d,allMessagesAsync:m,cleanAttributes:y}}])});