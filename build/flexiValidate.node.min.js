!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.flexiValidate=n():e.flexiValidate=n()}(this,function(){return function(e){function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n){"use strict";function t(e,n){return e?n:e}function r(e,n){return e[n.key]=n.message,e}function i(e,n){return"undefined"!=typeof e&&"undefined"!=typeof e[n]?e[n]:void 0}function o(e,n){var t=n.split("."),r=t.length>1,o=void 0;return o=r?t.reduce(i,e):e[n]}function s(e){return"undefined"!=typeof e&&null!==e}function u(e,n){if("object"!==("undefined"==typeof e?"undefined":v(e)))throw new Error("Target object must be an object");if("object"!==("undefined"==typeof n?"undefined":v(n)))throw new Error("Validation object must be an object")}function c(e,n){if("string"!=typeof n)throw new Error("Validation input must be a property string");if("undefined"==typeof e[n])throw new Error("Validation input property must exist on validation object")}function a(e,n){u(e,n);var t=Object.keys(n);return t.reduce(function(t,r){if(!t)return t;var i=function(){var t=n[r],i=Object.keys(t);return{v:i.reduce(function(n,i){if(n){var s=t[i],u=o(e,r);return s.isValid instanceof Function?s.isValid(u):!0}return n},!0)}}();return"object"===("undefined"==typeof i?"undefined":v(i))?i.v:void 0},!0)}function f(e,n){try{u(e,n)}catch(r){return Promise.reject(r)}var i=Object.keys(n),s=void 0;if(i.length>0){var c=i.map(function(r){var i=n[r],s=Object.keys(i),u=s.map(function(n){var t=i[n],s=o(e,r);return t.isValid instanceof Function?Promise.resolve(t.isValid(s)):Promise.resolve(!0)});return Promise.all(u).then(function(e){return e.reduce(t)})},!0);s=Promise.all(c).then(function(e){return e.reduce(t)})}else s=Promise.resolve(!0);return s}function l(e,n,t){u(e,n),c(n,t);var i=Object.keys(n[t]);return i.map(function(r){var i=n[t][r],s=o(e,t),u=i.message instanceof Function?i.message(s):i.message;return i.isValid(s)?void 0:{key:r,message:u}}).filter(s).reduce(r,{})}function d(e,n,t){try{u(e,n),c(n,t)}catch(i){return Promise.reject(i)}var a=Object.keys(n[t]),f=a.map(function(r){var i=n[t][r],s=o(e,t),u=i.message instanceof Function?i.message(s):i.message;return Promise.resolve(i.isValid(s)).then(function(e,n){return n?void 0:{key:e,message:u}}.bind(null,r))});return Promise.all(f).then(function(e){return e.filter(s).reduce(r,{})})}function y(e,n){u(e,n);var t=Object.keys(n);return t.reduce(function(t,r){var i=n[r],s=Object.keys(i),u={};return s.forEach(function(n){var t=i[n],s=o(e,r),c=t.message instanceof Function?t.message(s):t.message;t.isValid(s)||(u[n]=c)}),Object.keys(u).length>0&&(t[r]=u),t},{})}function m(e,n){try{u(e,n)}catch(t){return Promise.reject(t)}var r=Object.keys(n),i=r.map(function(t){var r=n[t],i=Object.keys(r),s=i.map(function(n){var i=r[n],s=o(e,t),u=i.message instanceof Function?i.message(s):i.message;return Promise.resolve(i.isValid(s)).then(function(e){return e?void 0:{message:u,key:n}})});return Promise.all(s).then(function(e){var n=e.reduce(function(e,n){return e[n.key]=n.message,e},{});return n.inputKey=t,n})});return Promise.all(i).then(function(e){return e.reduce(function(e,n){return e[n.inputKey]=n,delete n.inputKey,e},{})})}function p(e,n){u(e,n);var t=Object.keys(n),r={};return t.forEach(function(n){var t=n.indexOf(".")>-1;if(t){var i=n.split(".")[0];r[i]=e[i]}else r[n]=e[n]}),r}var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.isValid=a,n.isValidAsync=f,n.messages=l,n.messagesAsync=d,n.allMessages=y,n.allMessagesAsync=m,n.cleanAttributes=p,n["default"]={isValid:a,isValidAsync:f,messages:l,messagesAsync:d,allMessages:y,allMessagesAsync:m,cleanAttributes:p}}])});